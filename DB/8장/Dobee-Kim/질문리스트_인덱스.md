### CS 면접 질문: 인덱스 관련 10가지

1. **인덱스의 역할은 무엇이며, 데이터베이스 성능에 어떤 영향을 미칩니까?**
   - 추가적으로 인덱스 사용 시 발생할 수 있는 단점은 무엇인지 설명해주세요.

2. **B-Tree 인덱스와 Hash 인덱스의 차이점은 무엇이며, 각각의 장단점은 무엇인가요?**
   - 이 두 인덱스는 어떤 상황에서 각각 더 적합한지 사례를 들어 설명해주세요.

3. **MyISAM과 InnoDB의 인덱스 동작 방식은 어떻게 다릅니까?**
   - 클러스터링 인덱스와 비클러스터링 인덱스의 차이점을 포함해 설명해주세요.

4. **다중 컬럼 인덱스에서 인덱스의 순서가 중요한 이유는 무엇인가요?**
   - `INDEX(column1, column2)`가 있는 경우 `column2`만 조건에 사용하는 쿼리의 성능에 대해 설명해주세요.

5. **인덱스를 사용하지 못하는 쿼리의 예를 들고, 이를 최적화하는 방법에 대해 설명해주세요.**
   - 예: `LIKE '%keyword%'`와 같은 패턴 매칭 쿼리.

6. **B-Tree 인덱스의 깊이가 증가하면 어떤 문제가 발생하나요?**
   - 깊이를 최소화하기 위한 데이터베이스 설계 방법에 대해 설명해주세요.

7. **루스(Lose) 인덱스 스캔과 인덱스 스킵 스캔(Index Skip Scan)의 차이점은 무엇인가요?**
   - 각각의 장점과 적합한 사용 사례를 설명해주세요.

8. **유니크 인덱스와 일반 인덱스의 차이점은 무엇이며, 데이터 중복을 검사하는 과정에서 어떤 성능 영향을 미치나요?**

9. **R-Tree 인덱스는 어떤 경우에 사용되며, B-Tree 인덱스와 구조적으로 어떤 차이가 있나요?**
   - GIS 데이터와 같은 공간 데이터에서 R-Tree 인덱스를 사용하는 이유를 포함해 설명해주세요.

10. **클러스터링 인덱스와 세컨더리 인덱스의 동작 방식은 어떻게 다르며, 각각의 장단점은 무엇인가요?**
    - 클러스터링 인덱스에서 발생할 수 있는 데이터 삽입 성능 문제를 해결하기 위한 방법을 설명해주세요. 

이 질문들은 이론적 배경뿐 아니라 실제 사례를 기반으로 대답할 수 있도록 설계되었습니다. 각 질문은 면접관이 지원자의 인덱스에 대한 이해도와 최적화 능력을 확인하는 데 도움이 됩니다.

### 답변

---

1. **인덱스의 역할은 무엇이며, 데이터베이스 성능에 어떤 영향을 미칩니까?**
   - **답변**: 
     인덱스는 데이터베이스 테이블의 특정 칼럼 값과 해당 레코드의 물리적 위치를 매핑하여 데이터를 빠르게 검색할 수 있도록 도와줍니다. 이를 통해 데이터 읽기 속도를 크게 향상시키지만, 데이터 삽입, 수정, 삭제 작업 시 인덱스를 갱신해야 하므로 쓰기 작업의 성능은 저하될 수 있습니다.

---

2. **B-Tree 인덱스와 Hash 인덱스의 차이점은 무엇이며, 각각의 장단점은 무엇인가요?**
   - **답변**:
     - **B-Tree 인덱스**는 범위 검색과 정렬된 데이터를 검색하는 데 유용하며, `WHERE`, `ORDER BY`, `GROUP BY` 절에서 자주 사용됩니다. 단점으로는 삽입 시 트리의 균형을 유지하기 위한 추가 작업이 필요하다는 점이 있습니다.
     - **Hash 인덱스**는 특정 키 값에 대해 빠른 검색을 제공하지만, 범위 검색이 불가능하고 충돌이 발생할 경우 성능이 저하될 수 있습니다.
     - B-Tree는 범위 조건(`BETWEEN`, `<`, `>`)에 적합하고, Hash는 동등 조건(`=`)에 적합합니다.

---

3. **MyISAM과 InnoDB의 인덱스 동작 방식은 어떻게 다릅니까?**
   - **답변**:
     MyISAM은 인덱스가 데이터의 물리적 위치를 직접 참조하며, 데이터 읽기 속도가 빠릅니다. 그러나 수정과 삭제 시 파일 조각화가 발생합니다. InnoDB는 클러스터링 인덱스를 사용해 프라이머리 키를 기준으로 데이터를 정렬 저장하며, 데이터 수정과 삭제 작업에서도 성능이 안정적입니다. 단, 읽기 작업에서는 MyISAM보다 느릴 수 있습니다.

---

4. **다중 컬럼 인덱스에서 인덱스의 순서가 중요한 이유는 무엇인가요?**
   - **답변**:
     다중 컬럼 인덱스는 인덱스가 정의된 순서대로 데이터를 정렬하여 저장합니다. 따라서 첫 번째 칼럼부터 순차적으로 조건이 사용되지 않으면 인덱스를 활용하지 못합니다. 예를 들어, `INDEX(column1, column2)`에서는 `WHERE column1 = value AND column2 = value`는 인덱스를 활용하지만, `WHERE column2 = value`는 활용할 수 없습니다.

---

5. **인덱스를 사용하지 못하는 쿼리의 예를 들고, 이를 최적화하는 방법에 대해 설명해주세요.**
   - **답변**:
     - 예: `SELECT * FROM table WHERE column LIKE '%keyword%';`
       - 이 쿼리는 `%`로 시작하므로 B-Tree 인덱스를 활용할 수 없습니다.
     - **최적화 방법**: 전문 검색 인덱스(Full-Text Index)를 사용하거나, 데이터 구조를 변경하여 검색 대상 범위를 줄이는 방식으로 해결할 수 있습니다.

---

6. **B-Tree 인덱스의 깊이가 증가하면 어떤 문제가 발생하나요?**
   - **답변**:
     깊이가 증가하면 트리 탐색 시 디스크 I/O 횟수가 늘어나 검색 성능이 저하됩니다. 이를 방지하려면 적절한 페이지 크기와 인덱스 키 크기를 설정하여 트리의 깊이를 줄이거나, 데이터 분포를 고려해 선택도가 높은 컬럼에 인덱스를 설정해야 합니다.

---

7. **루스(Lose) 인덱스 스캔과 인덱스 스킵 스캔(Index Skip Scan)의 차이점은 무엇인가요?**
   - **답변**:
     - 루스 인덱스 스캔은 조건에 맞지 않는 레코드를 건너뛰어 필요한 데이터만 읽는 방식으로, `GROUP BY`나 `MIN`, `MAX`와 같은 집합 함수에서 사용됩니다.
     - 스킵 스캔은 복합 인덱스에서 선행 칼럼 값 그룹을 건너뛰며 후행 칼럼 값을 검색합니다. `INDEX(column1, column2)`에서 `column2` 조건만 사용해야 할 때 유용합니다.

---

8. **유니크 인덱스와 일반 인덱스의 차이점은 무엇이며, 데이터 중복을 검사하는 과정에서 어떤 성능 영향을 미치나요?**
   - **답변**:
     유니크 인덱스는 데이터 중복을 허용하지 않으며, 중복 여부를 확인하는 추가 작업이 필요하므로 쓰기 성능이 일반 인덱스보다 낮습니다. 읽기 성능은 두 인덱스 간 차이가 없습니다. 유니크 인덱스는 데이터 무결성을 유지하는 데 유용합니다.

---

9. **R-Tree 인덱스는 어떤 경우에 사용되며, B-Tree 인덱스와 구조적으로 어떤 차이가 있나요?**
   - **답변**:
     R-Tree 인덱스는 공간 데이터를 다룰 때 사용되며, 도형의 최소 경계 상자(MBR)를 기반으로 검색합니다. 반면, B-Tree는 정렬된 데이터를 검색하는 데 최적화되어 있습니다. 예를 들어, GIS 데이터나 GPS 좌표 데이터에서 R-Tree가 유용합니다.

---

10. **클러스터링 인덱스와 세컨더리 인덱스의 동작 방식은 어떻게 다르며, 각각의 장단점은 무엇인가요?**
    - **답변**:
      클러스터링 인덱스는 데이터를 프라이머리 키 기준으로 정렬 저장하며, 세컨더리 인덱스는 클러스터링 인덱스를 통해 데이터를 참조합니다. 클러스터링 인덱스는 데이터를 읽을 때 빠르지만, 삽입 및 수정 시 추가 비용이 발생합니다. 세컨더리 인덱스는 이러한 문제를 완화하지만, 데이터 읽기 시 클러스터링 인덱스를 거쳐야 하므로 추가 작업이 필요합니다.

---

이 답변은 면접 질문의 주요 의도를 이해하고, 이론과 사례를 결합하여 명확하고 간결하게 전달할 수 있도록 작성되었습니다.
